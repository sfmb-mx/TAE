MetroAreaMap <- read.table("../data/MetroAreaCodes.csv", sep = ",", header = TRUE)
CountryMap <- read.table("../data/CountryCodes.csv", sep = ",", header = TRUE)
'org_babel_R_eoe'
CPS <- merge(CPS, MetroAreaMap, by.x="MetroAreaCode", by.y="Code", all.x=TRUE)
'org_babel_R_eoe'
head(sort(table(CPS$MetroArea), decreasing = TRUE), 10)
'org_babel_R_eoe'
head(sort(tapply(CPS$Hispanic, CPS$MetroArea, mean), decreasing = TRUE))
'org_babel_R_eoe'
length(tmp)
head(CPS, 50)
tmp
rm(tmp)
summary(AsianInt)
AsianInt <- subset(CPS, CPS$Race == "Asian")
summary(AsianInt)

tmp <- tapply(CPS$Race == "Asian", CPS$MetroArea, mean)
tmp
'org_babel_R_eoe'
class(tmp)
head(tmp)
tmp
dim(tmp)
length(tmp)
class(tmp)
head(tmp)
tmp
summary(tmp)
sort(tapply(CPS$Race == "Asian", CPS$MetroArea, mean))

tmp <- tapply(CPS$Race == "Asian", CPS$MetroArea, mean)
tmp <- sort(as.vector(tmp), decreasing = TRUE)
head(tmp)
'org_babel_R_eoe'
sort(tapply(CPS$Race == "Asian", CPS$MetroArea, mean), decreasing = TRUE)

tmp <- tapply(CPS$Race == "Asian", CPS$MetroArea, mean)
tmp <- sort(as.vector(tmp), decreasing = TRUE)
head(tmp)
'org_babel_R_eoe'
head(sort(tapply(CPS$Race == "Asian", CPS$MetroArea, mean), decreasing = TRUE))

'org_babel_R_eoe'
sort(tapply(CPS$Education == "No high school diploma", CPS$MetroArea, mean))
'org_babel_R_eoe'
sort(tapply(CPS$Education == "No high school diploma", CPS$MetroArea, mean, na.rm = TRUE))
'org_babel_R_eoe'
head(sort(tapply(CPS$Education == "No high school diploma", CPS$MetroArea, mean, na.rm = TRUE)))
'org_babel_R_eoe'
names(CPS)
names(CountryMap)
head(CPS)
head(CountryMap)
CPS <- merge(CPS, CountryMap, by.x="CountryOfBirthCode", by.y="Code", all.x=TRUE)
'org_babel_R_eoe'
names(CPS)
'org_babel_R_eoe'
nrow(CPS[is.na(CPS$Country),])
'org_babel_R_eoe'
table(CPS$Country)
'org_babel_R_eoe'
head(sort(table(CPS$Country), decreasing = TRUE))
'org_babel_R_eoe'
table(CPS$Country)
sort(table(CPS$Country))
table(CPS$CountryOfBirthCode)
sort(table(CPS$CountryOfBirthCode), decreasing = TRUE)
CountryMap
head(sort(table(CPS$Country), decreasing = TRUE))
'org_babel_R_eoe'
table(CPS$MetroArea ==
              "New York-Northern New Jersey-Long Island, NY-NJ-PA", CPS$Country)
'org_babel_R_eoe'
table(CPS$Country, CPS$MetroArea ==
        "New York-Northern New Jersey-Long Island, NY-NJ-PA")
'org_babel_R_eoe'
table(CPS$Country, CPS$MetroArea ==
        "New York-Northern New Jersey-Long Island, NY-NJ-PA",
      na.remove = TRUE)
'org_babel_R_eoe'
table(CPS$Country, CPS$MetroArea ==
        "New York-Northern New Jersey-Long Island, NY-NJ-PA")
'org_babel_R_eoe'
ForMetroArea
head(CPS$Country == "United States")
head(ForMetroArea)
head(ForMetroarea)
head(ForMetroArea)
nrow(ForMetroArea)
ForMetroArea <- subset(CPS, Country != "United States" | Country != NA)
table(ForMetroArea$Country, ForMetroArea$MetroArea ==
        "New York-Northern New Jersey-Long Island, NY-NJ-PA")
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, Country != "United States" | Country != NA)
table(ForMetroArea$MetroArea ==
        "New York-Northern New Jersey-Long Island, NY-NJ-PA")
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, Country != "United States" | Country != NA)
table(ForMetroArea$MetroArea ==
              "New York-Northern New Jersey-Long Island, NY-NJ-PA")
1668 / (12744 + 1668)
'org_babel_R_eoe'
table(ForMetroArea$MetroArea)
ForMetroArea <- subset(CPS, Country != NA)
table(ForMetroArea$MetroArea ==
              "New York-Northern New Jersey-Long Island, NY-NJ-PA")
1668 / (12744 + 1668)
'org_babel_R_eoe'
names(ForMetroArea)
dim(ForMetroArea)
dim(ForMetroArea)
dim(CP)
dim(CPS)
ForMetroArea <- subset(CPS, !is.na(CPS$Country))
table(ForMetroArea$MetroArea, ForMetroArea$Country)
summary(ForMetroArea)
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, !is.na(CPS$Country))
table(ForMetroArea$MetroArea == "New York-Northern New Jersey-Long Island, NY-NJ-PA", ForMetroArea$Country)
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, !is.na(CPS$Country))
table(ForMetroArea$MetroArea == "New York-Northern New Jersey-Long Island, NY-NJ-PA", ForMetroArea$Country != "United States")
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, !is.na(CPS$Country))
table(ForMetroArea$MetroArea ==
              "New York-Northern New Jersey-Long Island, NY-NJ-PA",
      ForMetroArea$Country != "United States")
'org_babel_R_eoe'
ForMetroArea <- subset(CPS, !is.na(CPS$Country))
table(ForMetroArea$MetroArea ==
              "New York-Northern New Jersey-Long Island, NY-NJ-PA",
      ForMetroArea$Country != "United States")
1668 / (3736 + 1668)
'org_babel_R_eoe'
tapply(CPS$MetroArea, CPS$Country, max, na.rm = TRUE)
'org_babel_R_eoe'
table(CPS$MetroArea, CPS$Country == "India")
'org_babel_R_eoe'
sort(table(CPS$MetroArea, CPS$Country == "India"))
'org_babel_R_eoe'
sort(table(CPS$MetroArea, CPS$Country == "India"), decreasing = TRUE)
'org_babel_R_eoe'
table(CPS$MetroArea, CPS$Country == "India")
'org_babel_R_eoe'
ForMetroAreaIndia
dim(ForMetroAreaIndia)
head(ForMetroAreaIndia)
table(CPS$MetroArea, CPS$Country == "India")

ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
anyNA(ForMetroAreaIndia$Country)
table(ForMetroAreaIndia$MetroArea)
'org_babel_R_eoe'
table(CPS$MetroArea, CPS$Country == "India")

ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
anyNA(ForMetroAreaIndia$Country)
sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE)
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
anyNA(ForMetroAreaIndia$Country)
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE))

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
anyNA(ForMetroAreaBrazil$Country)
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE))
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
anyNA(ForMetroAreaIndia$Country)
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE))

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
anyNA(ForMetroAreaBrazil$Country)
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE))

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
anyNA(ForMetroAreaSomalia$Country)
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE))
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
anyNA(ForMetroAreaIndia$Country)
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 3)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
anyNA(ForMetroAreaBrazil$Country)
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 3)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
anyNA(ForMetroAreaSomalia$Country)
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 3)
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 3)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 3)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 3)
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 1)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 1)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 1)

sort(tapply(CPS$Country == "India", CPS$MetroArea, sum, na.rm=TRUE))

sort(tapply(CPS$Country == "Brazil", CPS$MetroArea, sum, na.rm=TRUE))

sort(tapply(CPS$Country == "Somalia", CPS$MetroArea, sum, na.rm=TRUE))
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 1)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 1)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "India", CPS$MetroArea, sum,
                 na.rm=TRUE)), 1)

head(sort(tapply(CPS$Country == "Brazil", CPS$MetroArea, sum,
                 na.rm=TRUE)), 1)

head(sort(tapply(CPS$Country == "Somalia", CPS$MetroArea, sum,
                 na.rm=TRUE)), 1)
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 1)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 1)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "India", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "Brazil", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "Somalia", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)
'org_babel_R_eoe'
ForMetroAreaIndia <- subset(CPS, CPS$Country == "India")
head(sort(table(ForMetroAreaIndia$MetroArea), decreasing = TRUE), 1)

ForMetroAreaBrazil <- subset(CPS, CPS$Country == "Brazil")
head(sort(table(ForMetroAreaBrazil$MetroArea), decreasing = TRUE), 1)

ForMetroAreaSomalia <- subset(CPS, CPS$Country == "Somalia")
head(sort(table(ForMetroAreaSomalia$MetroArea), decreasing = TRUE), 1)

writeLines("\n Other method!")

head(sort(tapply(CPS$Country == "India", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "Brazil", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)

head(sort(tapply(CPS$Country == "Somalia", CPS$MetroArea, sum,
                 na.rm=TRUE), decreasing = TRUE), 1)
'org_babel_R_eoe'
q()
n
library(parallel)

if(!file.exists("../data")) {
        dir.create("../data")
}

fileUrl <- "https://courses.edx.org/asset-v1:MITx+15.071x_2a+2T2015+type@asset+block/AnonymityPoll.csv"

fileName <- "AnonymityPoll.csv"

dataPath <- "../data"

filePath <- paste(dataPath, fileName, sep = "/")

if(!file.exists(filePath)) {
        download.file(fileUrl, destfile = filePath, method = "curl")
        list.files("../data")
}
list.files("../data")
'org_babel_R_eoe'
library(parallel)

if(!file.exists("../data")) {
        dir.create("../data")
}

fileUrl <- "https://courses.edx.org/asset-v1:MITx+15.071x_2a+2T2015+type@asset+block/AnonymityPoll.csv"

fileName <- "AnonymityPoll.csv"

dataPath <- "../data"

filePath <- paste(dataPath, fileName, sep = "/")

if(!file.exists(filePath)) {
        download.file(fileUrl, destfile = filePath, method = "curl")
        list.files("../data")
}
list.files("../data")
'org_babel_R_eoe'
writeLines("    Loading data into their data frame...")
poll <- read.table("../data/AnonymityPoll.csv", sep = ",", header = TRUE)

writeLines("\n    Summary of poll dataframe:")
summary(poll)

writeLines("\n    str command of the poll dataframe")
str(poll)

writeLines("\n    Number of interviewees:")
nrow(poll)
'org_babel_R_eoe'
writeLines("    Loading data into their data frame...")
poll <- read.table("../data/AnonymityPoll.csv", sep = ",", header = TRUE)

writeLines("\n    Number of interviewees:")
nrow(poll)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll)

writeLines("\n    str command of the poll dataframe")
str(poll)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll)

writeLines("\n    str command of the poll dataframe")
table(poll$Smartphone)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll$Smartphone)

writeLines("\n    Smartphone data table")
table(poll$Smartphone)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll$Smartphone)

writeLines("\n    Smartphone data table")
table(poll$Smartphone)[2]
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll$Smartphone)

writeLines("\n    Smartphone data table")
table(poll$Smartphone)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll$Smartphone)

writeLines("\n    Smartphone data table")
table(poll$Smartphone)

(472 + 487 + 43)
'org_babel_R_eoe'
writeLines("\n    Summary of poll dataframe:")
summary(poll$Smartphone)

writeLines("\n    Smartphone data table")
table(poll$Smartphone)

writeLines("\n    Total of interviewees")
(472 + 487 + 43)
'org_babel_R_eoe'
table(poll$Sex, poll$Region)
'org_babel_R_eoe'
names(poll)
table(poll$State, poll$Region)
'org_babel_R_eoe'
table(poll$State, poll$Region)
'org_babel_R_eoe'
summary(poll)
'org_babel_R_eoe'
summary(poll)
table(poll$Internet.Use, poll$Smartphone)
'org_babel_R_eoe'
table(poll$Internet.Use, poll$Smartphone)
'org_babel_R_eoe'
table(poll$Internet.Use, poll$Smartphone)
'org_babel_R_eoe'
summary(poll$Internet.Use)
'org_babel_R_eoe'
summary(poll$Smartphone)
'org_babel_R_eoe'
head(poll$Internet.Use)
head(poll$Smartphone)
limited <- subset(poll, Internet.Use == 1 | Smartphone == 1)
'org_babel_R_eoe'
limited <- subset(poll, Internet.Use == 1 | Smartphone == 1)
nrow(limited)
'org_babel_R_eoe'
summary(limited)
'org_babel_R_eoe'
summary(poll$Info.On.Internet)
'org_babel_R_eoe'
mean(poll$Info.On.Internet)
summary(poll$Info.On.Internet)
'org_babel_R_eoe'
mean(poll$Info.On.Internet, na.rm = TRUE)
summary(poll$Info.On.Internet)
'org_babel_R_eoe'
length(poll[poll$Info.On.Internet == 0, ])
'org_babel_R_eoe'
dim(poll[poll$Info.On.Internet == 0, ])
'org_babel_R_eoe'
nrow(poll[poll$Info.On.Internet == 0, ])
'org_babel_R_eoe'
nrow(poll[poll$Info.On.Internet == 0, ])
nrow(poll[poll$Info.On.Internet == 11, ])
'org_babel_R_eoe'
nrow(tmpPoll)
nrow(subset(poll, Info.On.Internet == 0, na.rm = TRUE))
nrow(subset(poll, Info.On.Internet == 11, na.rm = TRUE))

nrow(poll[poll$Info.On.Internet == 0, ])
nrow(poll[poll$Info.On.Internet == 11, ])
'org_babel_R_eoe'
nrow(subset(poll, Info.On.Internet == 0, na.rm = TRUE))
nrow(subset(poll, Info.On.Internet == 11, na.rm = TRUE))

table(limited$Info.On.Internet)
'org_babel_R_eoe'
head(poll$Worry.About.Info)
summary(poll$Worry.About.Info)
nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE))
'org_babel_R_eoe'
table(poll$Worry.About.Info, na.rm = TRUE)

nrow(subset(poll, Worry.About.Info == 0, na.rm = TRUE))
nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE))
'org_babel_R_eoe'
table(poll$Worry.About.Info)

nrow(subset(poll, Worry.About.Info == 0, na.rm = TRUE))
nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE))
'org_babel_R_eoe'
table(poll$Worry.About.Info)

nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE)) /
(nrow(subset(poll, Worry.About.Info == 0, na.rm = TRUE)) +
nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE)))
'org_babel_R_eoe'
q()
n
writeLines("    Loading data into their data frame...")
poll <- read.table("../data/AnonymityPoll.csv", sep = ",", header = TRUE)

writeLines("\n    Number of interviewees:")
nrow(poll)
'org_babel_R_eoe'
limited <- subset(poll, Internet.Use == 1 | Smartphone == 1)
nrow(limited)
'org_babel_R_eoe'
table(poll$Worry.About.Info)

nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE)) /
(nrow(subset(poll, Worry.About.Info == 0, na.rm = TRUE)) +
nrow(subset(poll, Worry.About.Info == 1, na.rm = TRUE)))
'org_babel_R_eoe'
q(n)
q()
n
writeLines("    Loading data into their data frame...")
poll <- read.table("../data/AnonymityPoll.csv", sep = ",", header = TRUE)

writeLines("\n    Number of interviewees:")
nrow(poll)
'org_babel_R_eoe'
limited <- subset(poll, Internet.Use == 1 | Smartphone == 1)
nrow(limited)
'org_babel_R_eoe'
summary(limited$Privacy.Laws.Effective)
table(limited$Privacy.Laws.Effective)

nrow(subset(limited, Privacy.Laws.Effective == 1)) /
(nrow(subset(limited, Privacy.Laws.Effective == 0)) +
         nrow(subset(limited, Privacy.Laws.Effective == 1)))
'org_babel_R_eoe'
names(limited)
hist(limited$Age)
table(limited$Age, limited$Info.On.Internet)
'org_babel_R_eoe'
sort(table(limited$Age, limited$Info.On.Internet), decreasing = TRUE)
'org_babel_R_eoe'
table(limited$Age, limited$Info.On.Internet)
'org_babel_R_eoe'
which.max(table(limited$Age, limited$Info.On.Internet))
'org_babel_R_eoe'
table(limited$Age, limited$Info.On.Internet)
'org_babel_R_eoe'
summary(limited$Age)
summary(limited$Info.On.Internet)
table(limited$Age, limited$Info.On.Internet)
'org_babel_R_eoe'
summary(limited$Age)
summary(limited$Info.On.Internet)
sort(table(limited$Age, limited$Info.On.Internet))
'org_babel_R_eoe'
summary(limited$Age)
summary(limited$Info.On.Internet)
sort(table(limited$Age, limited$Info.On.Internet), decreasing = TRUE)
'org_babel_R_eoe'
summary(limited$Age)
summary(limited$Info.On.Internet)
sort(table(limited$Age, limited$Info.On.Internet), decreasing = TRUE)
max(table(limited$Age, limited$Info.On.Internet))
'org_babel_R_eoe'
summary(limited$Age)
summary(limited$Info.On.Internet)
sort(table(limited$Age, limited$Info.On.Internet), decreasing = TRUE)

writeLines("\n    A better way.")
max(table(limited$Age, limited$Info.On.Internet))
'org_babel_R_eoe'
plot(jitter(c(1, 2, 3)))
summary(limited$Info.On.Internet)
'org_babel_R_eoe'
tapply(limited$Info.On.Internet, limited$Smartphone, summary)
'org_babel_R_eoe'
tapply(limited$Tried.Masking.Identity, limited$Smartphone, summary)
'org_babel_R_eoe'
tapply(limited$Tried.Masking.Identity, limited$Smartphone, summary)
'org_babel_R_eoe'
tapply(limited$Tried.Masking.Identity, limited$Smartphone, summary)
'org_babel_R_eoe'
q()
n
